{% extends "base.html" %}

{% block title %}ERGO | Allergies{% endblock %}

{% block content %}
<div data-role="page" id="listview-allergies">

  <!-- sidebar css and js -->
  <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/sidebar.css" />
  <script type="text/javascript" src="{{ STATIC_URL }}js/sidebar.js"></script>

  <div data-role="header" data-theme="e" data-position="fixed">
    <a href="#sidebarListview" data-rel="popup" data-transition="slidedown" data-position-to="window" data-role="button" data-inline="true" data-icon="grid" data-iconpos="notext">Menu</a>
    <h1>Allergies</h1>
  <a href="/info/allergies/listview/add/" data-rel="dialog" data-transition="flip" data-role="button" data-icon="add" data-iconpos="left">ADD</a>
  </div>
  
  <div data-role="content">

  <!-- start Sidebar -->
  <div data-role="popup" id="sidebarListview" class="sidebarPopup" data-corners="false" data-theme="none" data-shadow="false" data-tolerance="0,0">
<!-- include sidebar -->
    {% include "info/sidebar.html" %}        
  </div>
  <!-- end Sidebar -->

    <!-- TODO: status message popup/dialog box for new users-->
    {% if no_allergies %}
    <div style="text-align:center; font-style: italic; color: crimson;">
      <h4>No Allergies Listed. To add allergies, click the add button at the top right.</h4>
    </div>
    {% endif %}

  <ul data-role="listview" data-filter="true" data-filter-placeholder="Search by Allergy or Category..." data-filter-theme="d" data-theme="e">
   
    {% for i in allergies %}
    <li data-icon="delete"><a href="/info/allergies/listview/remove/?id={{ i.allergy_id }}" data-rel="dialog" data-transition="flip">
  <img src="{{ STATIC_URL }}images/allergies/{{ i.allergy_img }}" style="height:65px;width:65px;margin:5px 0px -15px 15px; border: 1px solid #b7b7b7;" />
  <h3>Allergy: {{ i.allergy_name }}</h3>
  <p>Category: {{ i.allergy_category }}</p>
    </a></li>
    {% endfor %}
          
  </ul>

        <br />
        <br />
  </div>
</div>

{% endblock %} 
